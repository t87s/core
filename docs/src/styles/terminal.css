/* Terminal Theme for Starlight Docs */

/* Import a monospace font */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');

:root {
  /* Terminal color palette - Amber theme */
  --term-bg: #0a0a08;
  --term-bg-elevated: #121210;
  --term-text: #d4a500;
  --term-text-bright: #ffc107;
  --term-text-dim: #8b7355;
  --term-border: #3d3520;
  --term-accent: #ffc107;
  --term-success: #00ff00;
  --term-error: #ff4444;
  --term-glow: rgba(255, 193, 7, 0.15);

  /* Override Starlight colors */
  --sl-color-accent-low: var(--term-bg-elevated);
  --sl-color-accent: var(--term-accent);
  --sl-color-accent-high: var(--term-text-bright);

  --sl-color-white: var(--term-text-bright);
  --sl-color-gray-1: var(--term-text);
  --sl-color-gray-2: var(--term-text-dim);
  --sl-color-gray-3: var(--term-border);
  --sl-color-gray-4: #2a2a20;
  --sl-color-gray-5: #1a1a15;
  --sl-color-gray-6: var(--term-bg-elevated);
  --sl-color-black: var(--term-bg);

  --sl-color-bg: var(--term-bg);
  --sl-color-bg-nav: var(--term-bg);
  --sl-color-bg-sidebar: var(--term-bg);
  --sl-color-bg-inline-code: var(--term-bg-elevated);

  --sl-color-hairline-light: var(--term-border);
  --sl-color-hairline-shade: var(--term-border);
  --sl-color-hairline: var(--term-border);

  --sl-color-text: var(--term-text);
  --sl-color-text-accent: var(--term-accent);

  /* Typography */
  --sl-font: 'JetBrains Mono', ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, monospace;
  --sl-font-mono: 'JetBrains Mono', ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, monospace;

  /* Remove rounded corners */
  --sl-border-radius: 0;

  /* Content width */
  --sl-content-width: 50rem;
}

/* Force dark mode always */
:root,
:root[data-theme='light'],
:root[data-theme='dark'] {
  color-scheme: dark;
}

/* Global styles */
html {
  background: var(--term-bg);
}

body {
  background: var(--term-bg);
  font-family: var(--sl-font);
}

/* Header styling */
header.header {
  background: var(--term-bg) !important;
  border-bottom: 1px solid var(--term-border) !important;
}

/* Site title */
.site-title {
  color: var(--term-text-bright) !important;
  font-weight: 700 !important;
  letter-spacing: 0.05em;
}

/* Search button */
site-search button {
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
  color: var(--term-text-dim) !important;
}

/* Navigation links */
nav a {
  color: var(--term-text) !important;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.875rem;
}

nav a:hover {
  color: var(--term-text-bright) !important;
  text-shadow: 0 0 10px var(--term-glow);
}

/* Sidebar */
.sidebar-content {
  background: var(--term-bg) !important;
}

.sidebar-content a {
  color: var(--term-text) !important;
  border-radius: 0 !important;
}

.sidebar-content a:hover,
.sidebar-content a[aria-current='page'] {
  background: var(--term-bg-elevated) !important;
  color: var(--term-text-bright) !important;
  border-left: 2px solid var(--term-accent) !important;
}

/* Group labels in sidebar - force amber on all sidebar text */
.sidebar-content,
.sidebar-content *,
nav[aria-label="Main"] *,
.sl-sidebar *,
starlight-menu-button ~ nav * {
  color: var(--term-text) !important;
}

/* Dim the group headers (Concepts, Guides) */
summary,
details > summary,
summary span,
details > summary span,
.large,
[class*="large"] {
  color: var(--term-text-dim) !important;
}

/* Keep active item bright */
a[aria-current="page"],
a[aria-current="page"] * {
  color: var(--term-text-bright) !important;
}

/* Main content */
main {
  background: var(--term-bg) !important;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  color: var(--term-text-bright) !important;
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* Add terminal-style brackets to h1 */
.sl-markdown-content h1::before {
  content: '[';
  color: var(--term-text-dim);
  margin-right: 0.25em;
}

.sl-markdown-content h1::after {
  content: ']';
  color: var(--term-text-dim);
  margin-left: 0.25em;
}

/* Links */
a {
  color: var(--term-accent) !important;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
  text-shadow: 0 0 8px var(--term-glow);
}

/* Code blocks */
pre {
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
  box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
}

code {
  font-family: var(--sl-font-mono) !important;
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
  color: var(--term-text) !important;
  padding: 0.1em 0.3em;
}

pre code {
  border: none !important;
  padding: 0;
}

/* Inline code */
:not(pre) > code {
  color: var(--term-accent) !important;
}

/* Cards */
.card {
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 0 15px var(--term-glow);
}

.card:hover {
  border-color: var(--term-accent) !important;
  box-shadow: 0 0 25px var(--term-glow);
}

.card .title {
  color: var(--term-text-bright) !important;
}

.card .body {
  color: var(--term-text-dim) !important;
}

/* Starlight Card component */
.sl-card {
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
}

/* Hero section */
.hero {
  background: var(--term-bg) !important;
}

.hero h1 {
  color: var(--term-text-bright) !important;
  text-shadow: 0 0 20px var(--term-glow);
}

.hero .tagline {
  color: var(--term-text) !important;
  white-space: nowrap;
}

/* Hero action buttons - fix padding */
.hero .sl-flex.actions {
  gap: 1rem;
}

.hero .sl-flex.actions a {
  padding: 0.75rem 1.5rem !important;
  display: inline-flex !important;
  align-items: center !important;
  line-height: 1 !important;
}

/* Action buttons (CTA) */
.action,
.sl-link-button,
a.sl-link-button,
[data-link-button] {
  border-radius: 0 !important;
}

.action.primary,
.sl-link-button.primary,
a.sl-link-button[data-variant="primary"],
.sl-link-button[data-variant="primary"] {
  background: var(--term-text) !important;
  color: var(--term-bg) !important;
  border: 1px solid var(--term-text) !important;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 600;
}

.action.primary:hover,
.sl-link-button.primary:hover,
a.sl-link-button[data-variant="primary"]:hover {
  background: var(--term-text-bright) !important;
  box-shadow: 0 0 20px var(--term-glow);
}

.action.minimal,
.sl-link-button.minimal,
a.sl-link-button[data-variant="minimal"],
.sl-link-button[data-variant="minimal"] {
  background: transparent !important;
  color: var(--term-text-dim) !important;
  border: 1px solid var(--term-border) !important;
}

.action.minimal:hover,
.sl-link-button.minimal:hover,
a.sl-link-button[data-variant="minimal"]:hover {
  color: var(--term-text) !important;
  border-color: var(--term-text) !important;
}

/* Hero buttons specifically */
.hero .action,
.hero a[href] {
  border-radius: 0 !important;
}

/* Override any remaining blue */
.sl-link-button,
[class*="action"] {
  --sl-color-accent: var(--term-text) !important;
  --sl-color-accent-high: var(--term-text-bright) !important;
}

/* Remove icons from cards (they look too colorful/modern) */
.card .icon,
.sl-card .icon {
  display: none !important;
}

/* Table of contents */
starlight-toc {
  border-left: 1px solid var(--term-border) !important;
}

starlight-toc a {
  color: var(--term-text-dim) !important;
}

starlight-toc a:hover,
starlight-toc a[aria-current='true'] {
  color: var(--term-text-bright) !important;
}

/* Theme picker - hide it since we're forcing terminal theme */
starlight-theme-select {
  display: none !important;
}

/* Pagination */
.pagination-links a {
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
  color: var(--term-text) !important;
}

.pagination-links a:hover {
  border-color: var(--term-accent) !important;
  color: var(--term-text-bright) !important;
}

/* Mobile menu */
starlight-menu-button button {
  color: var(--term-text) !important;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--term-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--term-border);
  border: 1px solid var(--term-bg);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--term-text-dim);
}

/* Add scanline effect (subtle) */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.03),
    rgba(0, 0, 0, 0.03) 1px,
    transparent 1px,
    transparent 2px
  );
  z-index: 9999;
}

/* Footer */
.footer {
  border-top: 1px solid var(--term-border) !important;
  color: var(--term-text-dim) !important;
}

/* Expressive code (code block) theming */
.expressive-code {
  --ec-frm-edBg: var(--term-bg-elevated) !important;
  --ec-frm-edActTabBg: var(--term-bg-elevated) !important;
  --ec-frm-edActTabBrdTop: var(--term-accent) !important;
  --ec-frm-edTabBarBg: var(--term-bg) !important;
  --ec-frm-edTabBarBrdBtm: var(--term-border) !important;
  --ec-frm-tooltipBg: var(--term-bg-elevated) !important;
  --ec-brdCol: var(--term-border) !important;
  --ec-brdRad: 0 !important;

  /* Fix syntax colors - ensure nothing is invisible */
  --ec-codeFg: var(--term-text) !important;
  --ec-codeSelectionBg: rgba(255, 193, 7, 0.2) !important;
}

/* Fix invisible syntax tokens in code blocks */
.expressive-code code,
.expressive-code pre,
.expressive-code .ec-line {
  color: var(--term-text) !important;
}

/* Ensure property access (.users, .findById) is visible */
.expressive-code .pl-c1,
.expressive-code .pl-en,
.expressive-code .pl-smi,
.expressive-code .token.property,
.expressive-code .token.function,
.expressive-code [style*="color:#"],
.expressive-code span {
  color: inherit;
}

/* Force Expressive Code to use dark theme colors (--0) not light (--1) */
.expressive-code span[style] {
  color: var(--0) !important;
}

/* Override any #111111 (near-black) colors that would be invisible */
.expressive-code span[style*="--1:#111111"],
.expressive-code span[style*="--1:#1"] {
  color: var(--term-text) !important;
}

/* Note/warning/tip callouts */
.starlight-aside {
  background: var(--term-bg-elevated) !important;
  border: 1px solid var(--term-border) !important;
  border-radius: 0 !important;
  border-left: 3px solid var(--term-accent) !important;
}

.starlight-aside--note {
  border-left-color: var(--term-accent) !important;
}

.starlight-aside--tip {
  border-left-color: var(--term-success) !important;
}

.starlight-aside--caution {
  border-left-color: #ff8800 !important;
}

.starlight-aside--danger {
  border-left-color: var(--term-error) !important;
}
